generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  userIdx    Int         @id @default(autoincrement()) @map("user_idx")
  email      String      @map("user_email") @db.VarChar(320)
  nickname   String      @map("nickname") @db.VarChar()
  pw         String?     @db.VarChar(255)
  provider   String      @default("local") @db.VarChar(12)
  profile    String?     @map("profile_img")
  gender     Int?        @default(0) @db.SmallInt // 0: Not known, 1: Male, 2: Female
  birthYear  DateTime?   @map("birth_year") @db.Date
  socialUser socialUser?

  createdAt DateTime  @default(now()) @map("created_at") @db.Timestamptz()
  updatedAt DateTime  @updatedAt @map("updated_at") @db.Timestamptz()
  deletedAt DateTime? @map("deleted_at") @db.Timestamptz()

  @@map("user_tb")
}

model socialUser {
  userIdx Int    @id
  user    User   @relation(fields: [userIdx], references: [userIdx])
  snsId   String

  @@map("social_user_tb")
}
